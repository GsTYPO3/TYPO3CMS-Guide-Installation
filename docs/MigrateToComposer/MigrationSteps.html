<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="master (10-dev)" name="book-version"/>
<meta content="master (10-dev)" name="book-release"/>
<meta content="Installation and Upgrade Guide" name="docsearch:name"/>
<meta content="master (10-dev)" name="docsearch:version"/>
<meta content="" name="docsearch:package_type"/>
<title>Migration Steps — Installation and Upgrade Guide master (10-dev) documentation</title>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/webfonts.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/fontawesome.css" rel="stylesheet" type="text/css"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="#" rel="top" title="Installation and Upgrade Guide master (10-dev) documentation"/>
<link href="Index.html" rel="up" title="Migrate TYPO3 Project to Composer"/>
<link href="CoWorking.html" rel="next" title="Co-working"/>
<link href="Requirements.html" rel="prev" title="Requirements"/>
<script src="../_static/js/modernizr.min.js"></script>
</head>
<body>
<div class="page">
<div class="page-header">
<div class="page-header-inner">
<a class="logo" href="https://docs.typo3.org" title="TYPO3 Documentation">
<img alt="TYPO3 Logo" class="logo-image" height="130" src="../_static/img/typo3-logo.svg" width="484"/>
</a>
</div>
</div>
<div class="page-main">
<div class="page-main-inner">
<div class="page-main-navigation">
<nav>
<input class="toc-checkbox" id="toggleToc" type="checkbox"/>
<div class="toc-header"><div class="toc-title">
<a class="toc-title-project" href="../Index.html">Installation and Upgrade Guide</a></div><div class="toc-actions">
<label class="toc-toggle" for="toggleToc">
                                    Menu
                                </label>
</div>
</div>
<div class="toc-collapse">
<div class="toc-search" role="search">
<form action="../search.html" autocomplete="off" id="search-form" method="get">
<input aria-label="Search this project" class="form-control" id="searchinput" name="q" placeholder="Search this project" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div><div aria-label="main navigation" class="toc" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction/Index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../QuickInstall/Index.html">Quick Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../QuickInstall/Composer/Index.html">Install TYPO3 via composer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../QuickInstall/GetAndUnpack/Index.html">Install TYPO3 Without Composer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../QuickInstall/TheInstallTool/Index.html">The Install Tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../In-depth/Index.html">In-Depth Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/SystemRequirements/Index.html">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/WhichPackageAndFormat/Index.html">Which Package and Which Format?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/ThePackageInDetail/Index.html">The Package in Detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/TheInstallTool/Index.html">TYPO3 System Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/Distributions/Index.html">The Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/TranslatingTheBackend/Index.html">Translating the Backend</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Composer/Index.html">Working With Composer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExtensionInstallation/Index.html">Extension Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Upgrade/Index.html">Upgrade</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/Preparation/Index.html">Preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/Backup/Index.html">Backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UpdateReferenceIndex/Index.html">Reference Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/InstallTheNewSource/Index.html">Install the New Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/ConvertGlobalExtensions/Index.html">Convert Global Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UseTheUpgradeWizard/Index.html">Use the Upgrade Wizard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/RunTheDatabaseAnalyzer/Index.html">Run the Database Analyzer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/ClearCachesAndUserSettings/Index.html">Clear User Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/RemoveTemporaryCacheFiles/Index.html">Clear Caches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/ChangelogAndNewsmd/Index.html">Check the ChangeLog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UpdateExtensions/Index.html">Update Extensions (non-Composer Installations)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UpdateTranslations/Index.html">Update Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UpgradeToV10/Index.html">Upgrade to v10</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="Index.html">Migrate TYPO3 Project to Composer</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Requirements.html">Requirements</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Migration Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="CoWorking.html">Co-working</a></li>
<li class="toctree-l2"><a class="reference internal" href="BestPractices.html">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ReleaseIntegrity/Index.html">TYPO3 Release Integrity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/Index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sitemap/Index.html">Sitemap</a></li>
</ul>
</div>
</div>
</nav>
</div>
<div class="page-main-content">
<div class="rst-content">
<a accesskey="p" class="no-focus" href="Requirements.html" tabindex="-1"></a>
<a accesskey="n" class="no-focus" href="CoWorking.html" tabindex="-1"></a>
<div aria-label="breadcrumbs navigation" class="breadcrumb-bar" role="navigation">
<ol class="breadcrumb">
<li class="breadcrumb-item"><a href="../Index.html">Start</a></li>
<li class="breadcrumb-item"><a href="Index.html">Migrate TYPO3 Project to Composer</a></li>
<li aria-current="page" class="breadcrumb-item active">Migration Steps</li>
</ol>
<div class="breadcrumb-additions">
<a class="btn btn-sm btn-primary" href="https://github.com/TYPO3-Documentation/TYPO3CMS-Guide-Installation/edit/master/Documentation/MigrateToComposer/MigrationSteps.rst" rel="nofollow noopener" target="_blank">
<span class="btn-icon"><span class="fab fa-github"></span></span>
<span class="btn-text">Edit on GitHub</span>
</a>
<a class="btn btn-sm btn-light" href="../_sources/MigrateToComposer/MigrationSteps.rst.txt" rel="nofollow">
<span class="btn-icon"><span class="fas fa-code"></span></span>
<span class="btn-text">View source</span>
</a>
</div>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="migration-steps">
<h1>Migration Steps<a class="headerlink" href="#migration-steps" title="Permalink to this headline">¶</a></h1>
<div class="section" id="delete-files">
<h2>Delete Files<a class="headerlink" href="#delete-files" title="Permalink to this headline">¶</a></h2>
<p>Yes, that’s true. You have to delete some files, because they will be created by
Composer in some of the next steps.</p>
<p>You have to delete, <code class="file docutils literal notranslate"><span class="pre">public/index.php</span></code>, <code class="file docutils literal notranslate"><span class="pre">public/typo3/</span></code> and all the
extensions inside <code class="file docutils literal notranslate"><span class="pre">public/typo3conf/ext/</span></code>, you downloaded from TER or any
other resources like GitHub. You even have to delete your own extensions, if
they are available in a separate Git repository and, for example, included as
Git submodule.</p>
<p>Please keep only your sitepackage extension or any other extension, which was
explicitly built for your current project and does not have an own Git
repository.</p>
</div>
<div class="section" id="configure-composer">
<h2>Configure Composer<a class="headerlink" href="#configure-composer" title="Permalink to this headline">¶</a></h2>
<p>Create a file with name <code class="file docutils literal notranslate"><span class="pre">composer.json</span></code> in your project root, not inside
your web root. At the moment, only these few lines are required:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"repositories"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"composer"</span><span class="p">,</span>
            <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"https://composer.typo3.org/"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note, that you only need to include this Composer repository, if you have to use
legacy extensions that are not available on Packagist, but only in TER.</p>
</div>
<div class="section" id="add-all-required-packages-to-your-project">
<h2>Add All Required Packages to Your Project<a class="headerlink" href="#add-all-required-packages-to-your-project" title="Permalink to this headline">¶</a></h2>
<p>You can add all your required packages with the Composer command <code class="code docutils literal notranslate"><span class="pre">composer</span>
<span class="pre">require</span></code>. The full syntax is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer require anyvendorname/anypackagename:version
</pre></div>
</div>
<p><strong>Example</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer require typo3/minimal:^9.5
</pre></div>
</div>
<p>There are different ways to define the version of the package, you want
to install. The most common syntaxes start with <code class="code docutils literal notranslate"><span class="pre">^</span></code> (e.g.
<code class="code docutils literal notranslate"><span class="pre">^9.5</span></code>) or with <code class="code docutils literal notranslate"><span class="pre">~</span></code> (e.g. <code class="code docutils literal notranslate"><span class="pre">~9.5.0</span></code>). A full documentation can be
found at <a class="reference external" href="https://getcomposer.org/doc/articles/versions.md" rel="nofollow noopener">https://getcomposer.org/doc/articles/versions.md</a></p>
<p>In short:</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">^9.5</span></code> or <code class="code docutils literal notranslate"><span class="pre">^9.5.0</span></code> tells Composer to add newest package of
version 7.* with at least 9.5.0, but not version 10.</li>
<li><code class="code docutils literal notranslate"><span class="pre">~9.5.0</span></code> tells <code class="code docutils literal notranslate"><span class="pre">composer</span></code> to add the newest package of version
9.5.* with at least 9.5.0, but not version 9.6.</li>
</ul>
<p>You have to decide by yourself, which syntax fits best to your needs.</p>
<div class="section" id="install-the-core">
<h3>Install the Core<a class="headerlink" href="#install-the-core" title="Permalink to this headline">¶</a></h3>
<div class="section" id="the-old-way-add-everything">
<span id="composer-migration-require-all"></span><h4>The Old Way: Add Everything<a class="headerlink" href="#the-old-way-add-everything" title="Permalink to this headline">¶</a></h4>
<p>As already written above, the line to install TYPO3 7 LTS would be:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer require typo3/cms:~7.6.0
</pre></div>
</div>
</div>
<div class="section" id="add-only-code-you-need">
<span id="composer-migration-require-subtree-packages"></span><h4>Add only code you need<a class="headerlink" href="#add-only-code-you-need" title="Permalink to this headline">¶</a></h4>
<p>Since TYPO3 8.7.10 you <strong>should</strong> only add code you need, thus require individual
TYPO3 core extensions instead of the full <code class="code docutils literal notranslate"><span class="pre">typo3/cms</span></code> package, like it was necessary
for TYPO3 7.6 or older. It is <strong>mandatory</strong> to do so for TYPO3 9 LTS.
The concept means, you will not copy
the full TYPO3 core package, including all system extensions, you will
never use. But only install what you really want. You will not be able
to install <code class="code docutils literal notranslate"><span class="pre">typo3/cms:^9</span></code>, but have to name each system extension:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer require typo3/minimal:^9.5
composer require typo3/cms-scheduler:^9.5
composer require ...
</pre></div>
</div>
<p>Or in one line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer require typo3/cms-minimal:^9.5 typo3/cms-scheduler:^9.5 ...
</pre></div>
</div>
<p>To find the correct package names, you can either take a look in the
<code class="file docutils literal notranslate"><span class="pre">composer.json</span></code> of any system extension or follow the naming
convention
<code class="file docutils literal notranslate"><span class="pre">typo3/cms-&lt;extension</span> <span class="pre">name</span> <span class="pre">with</span> <span class="pre">dash</span> <span class="pre">"-"</span> <span class="pre">instead</span> <span class="pre">of</span> <span class="pre">underscore</span> <span class="pre">"_"&gt;</span></code>,
e.g. <code class="file docutils literal notranslate"><span class="pre">typo3/cms-fluid-styled-content</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To find out all TYPO3 Core packages, you can visit the TYPO3 Composer Helper website.
<a class="reference external" href="https://get.typo3.org/misc/composer/helper">https://get.typo3.org/misc/composer/helper</a>
From this website, you can select TYPO3 Core Packages you need and generate
the composer command to require them.</p>
</div>
</div>
</div>
<div class="section" id="install-extensions-from-packagist">
<h3>Install Extensions from Packagist<a class="headerlink" href="#install-extensions-from-packagist" title="Permalink to this headline">¶</a></h3>
<p>You already know the TER and always used it to install extensions? Fine.
But with Composer, the <strong>preferred way</strong> is to install extensions
directly from <a class="reference external" href="https://packagist.org" rel="nofollow noopener">packagist.org</a>. This works great, when the maintainer uploaded them
to there. Many well known extensions are already available.
You only need to known the package name. There are multiple ways to find it:</p>
<div class="section" id="notice-on-extension-s-ter-page">
<h4>Notice on Extension’s TER Page<a class="headerlink" href="#notice-on-extension-s-ter-page" title="Permalink to this headline">¶</a></h4>
<p>Extension maintainers optionally can link their TYPO3 extension in TER with the
correct Composer key on <a class="reference external" href="https://packagist.org" rel="nofollow noopener">packagist.org</a>. Some maintainers already did that and if you
search the extension in TER, you will see a message, which command and Composer
key you can use to install this extension.</p>
<p><a class="reference internal" href="../_images/ter-composer-command.png"><img alt="TER composer command" src="../_images/ter-composer-command.png" style="width: 828.75px; height: 488.8px;"/></a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The command <code class="code docutils literal notranslate"><span class="pre">composer</span> <span class="pre">req</span></code> is short for <code class="code docutils literal notranslate"><span class="pre">composer</span> <span class="pre">require</span></code>. Both commands
exactly do the same and are interchangeable.</p>
</div>
</div>
<div class="section" id="check-in-ter-satis">
<h4>Check in TER Satis<a class="headerlink" href="#check-in-ter-satis" title="Permalink to this headline">¶</a></h4>
<p>If you search the extension in <a class="reference external" href="https://composer.typo3.org/satis.html">https://composer.typo3.org/satis.html</a> and it’s linked to
<a class="reference external" href="https://packagist.org" rel="nofollow noopener">packagist.org</a>, they are marked as “abandoned” and you
will see a message, which Composer key should be used to install this extension.</p>
<p><img alt="satis abandoned note" src="../_images/satis-abandoned.png"/></p>
</div>
<div class="section" id="see-warning-during-composer-require-command">
<h4>See Warning During <code class="code docutils literal notranslate"><span class="pre">composer</span> <span class="pre">require</span></code> Command<a class="headerlink" href="#see-warning-during-composer-require-command" title="Permalink to this headline">¶</a></h4>
<p>If you still install one of the abandoned extensions via its <code class="code docutils literal notranslate"><span class="pre">typo3-ter</span></code> package key,
you will also see a warning during the <code class="code docutils literal notranslate"><span class="pre">composer</span> <span class="pre">require</span></code> command.</p>
<p><img alt="composer abandoned note" src="../_images/composer-ter-abandoned.png"/></p>
</div>
<div class="section" id="check-manually">
<h4>Check Manually<a class="headerlink" href="#check-manually" title="Permalink to this headline">¶</a></h4>
<p>This is the most exhausting way. But it will work, even if the extension maintainer
does not provide additional information.</p>
<ol class="arabic">
<li><p class="first">Search and open the extension, you want to install, in
<a class="reference external" href="https://extensions.typo3.org">TER</a>.</p>
</li>
<li><p class="first">Click button “Take a look into the code”.</p>
<p><a class="reference internal" href="../_images/ter-code-link.png"><img alt="TER screen shot" src="../_images/ter-code-link.png" style="width: 828.75px; height: 488.8px;"/></a></p>
</li>
<li><p class="first">Open file <code class="file docutils literal notranslate"><span class="pre">composer.json</span></code>.</p>
<p><a class="reference internal" href="../_images/github-composer-file.png"><img alt="file list" src="../_images/github-composer-file.png" style="width: 790.4px; height: 468.0px;"/></a></p>
</li>
<li><p class="first">Search for line with property <code class="code docutils literal notranslate"><span class="pre">"name"</span></code>, it’s value should be
formatted like <code class="code docutils literal notranslate"><span class="pre">vendor/package</span></code>.</p>
<p><a class="reference internal" href="../_images/github-composer-name.png"><img alt="file content" src="../_images/github-composer-name.png" style="width: 788.8px; height: 352.0px;"/></a></p>
</li>
<li><p class="first">Check, if the package can be found on
<a class="reference external" href="https://packagist.org" rel="nofollow noopener">packagist.org</a>.</p>
<p><a class="reference internal" href="../_images/packagist-mask.png"><img alt="packagist screen shot" src="../_images/packagist-mask.png" style="width: 786.5px; height: 744.9px;"/></a></p>
</li>
</ol>
<p><strong>Example:</strong>
To install the mask extension in version 4.1.*, type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer require mask/mask:~4.1.0
</pre></div>
</div>
</div>
</div>
<div class="section" id="install-extension-from-ter">
<h3>Install Extension from TER<a class="headerlink" href="#install-extension-from-ter" title="Permalink to this headline">¶</a></h3>
<p>If the extension is not available on packagist, the good news is: All
TER extensions are available via Composer! That’s, why we added
<code class="code docutils literal notranslate"><span class="pre">https://composer.typo3.org/</span></code> as repository to our <code class="file docutils literal notranslate"><span class="pre">composer.json</span></code>
some lines above. There are little naming conventions:</p>
<ul class="simple">
<li>Vendor name is <code class="code docutils literal notranslate"><span class="pre">typo3-ter</span></code>.</li>
<li>Underscores <code class="code docutils literal notranslate"><span class="pre">_</span></code> are replaced by dash <code class="code docutils literal notranslate"><span class="pre">-</span></code>.</li>
</ul>
<p><strong>Example:</strong></p>
<p>The extension <code class="code docutils literal notranslate"><span class="pre">any_fancy_extension</span></code>’s auto generated Composer package
name would be <code class="code docutils literal notranslate"><span class="pre">typo3-ter/any-fancy-extension</span></code>. To add this extension in
version 1.2.*, type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer require typo3-ter/any-fancy-extension:~1.2.0
</pre></div>
</div>
<p>You can browse all available extensions and versions via
<a class="reference external" href="https://composer.typo3.org/satis.html">https://composer.typo3.org/satis.html</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you do not include any packages this way, you can remove the
repository block named <code class="code docutils literal notranslate"><span class="pre">https://composer.typo3.org</span></code> from your
<code class="file docutils literal notranslate"><span class="pre">composer.json</span></code> to improve speed.</p>
</div>
</div>
<div class="section" id="install-extension-from-version-control-system-e-g-github-gitlab">
<h3>Install Extension from Version Control System (e.g. GitHub, Gitlab, …)<a class="headerlink" href="#install-extension-from-version-control-system-e-g-github-gitlab" title="Permalink to this headline">¶</a></h3>
<p>In some cases, you will have to install a TYPO3 extension, which is not
available on packagist.org or in the TER. Examples could be:</p>
<ul class="simple">
<li>non-public extension only used by your company.</li>
<li>you forked and modified an existing extension.</li>
</ul>
<p>As first step, you have to define the repository in your
<code class="file docutils literal notranslate"><span class="pre">composer.json</span></code>’s “repositories” section. In this example, you find the
additional lines added to the <code class="file docutils literal notranslate"><span class="pre">composer.json</span></code> from above:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"repositories"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"composer"</span><span class="p">,</span>
            <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"https://composer.typo3.org/"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"vcs"</span><span class="p">,</span>
            <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"https://github.com/foo/bar.git"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"typo3/cms"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"cms-package-dir"</span><span class="p">:</span> <span class="s2">"{$vendor-dir}/typo3/cms"</span><span class="p">,</span>
            <span class="nt">"web-dir"</span><span class="p">:</span> <span class="s2">"public"</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The Git repository must be a TYPO3 extension, with all the required
files (e.g. <code class="file docutils literal notranslate"><span class="pre">ext_emconf.php</span></code>) and must contain a valid
<code class="file docutils literal notranslate"><span class="pre">composer.json</span></code> itself. How this file should look in your extension,
can be found on <a class="reference external" href="https://composer.typo3.org/">composer.typo3.org</a> or
<a class="reference external" href="https://insight.helhum.io/post/148886148725/composerjson-specification-for-typo3-extensions" rel="nofollow noopener">this blog post from Helmut Hummel</a>.
Please note, that Git tags are used as version numbers.</p>
<p>If you fulfill these requirements, you can add your extension in the
same way like the other examples:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer require foo/bar:~1.0.0
</pre></div>
</div>
</div>
</div>
<div class="section" id="include-individual-extensions-like-site-packages">
<span id="mig-composer-include-individual-extensions"></span><h2>Include Individual Extensions like Site Packages<a class="headerlink" href="#include-individual-extensions-like-site-packages" title="Permalink to this headline">¶</a></h2>
<p>It’s not necessary to move your project’s site package to a dedicated
Git repository to re-include it in your project. You can keep the files
in your main project (e.g. <code class="file docutils literal notranslate"><span class="pre">public/typo3conf/ext/my_sitepackage</span></code>). There is
only one thing to do; Because TYPO3’s autoload feature works differently
in Composer based installations, you have to register your PHP class
names in Composer. This is very easy when you use PHP namespaces:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>"autoload": {
    "psr-4": {
        "VendorName\\MySitepackage\\": "public/typo3conf/ext/my_sitepackage/Classes/",
        "VendorName\\AnyOtherExtension\\": "public/typo3conf/ext/any_other_extension/Classes/"
    }
}
</pre></div>
</div>
<p>For extension without PHP namespaces, this section has to look a bit
differently. You can decide by yourself, if you want to list each PHP file
manually or if Composer should search for them inside a folder:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>"autoload": {
    "classmap": [
        "public/typo3conf/ext/my_old_extension/pi1/",
        "public/typo3conf/ext/my_old_extension/pi2/class.tx_myoldextension_pi2.php"
    ]
}
</pre></div>
</div>
<p>To complete our example <code class="file docutils literal notranslate"><span class="pre">composer.json</span></code>, it would look like this:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"repositories"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"composer"</span><span class="p">,</span>
            <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"https://composer.typo3.org/"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"vcs"</span><span class="p">,</span>
            <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"https://github.com/foo/bar.git"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"typo3/cms"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"cms-package-dir"</span><span class="p">:</span> <span class="s2">"{$vendor-dir}/typo3/cms"</span><span class="p">,</span>
            <span class="nt">"web-dir"</span><span class="p">:</span> <span class="s2">"public"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">"autoload"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"psr-4"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"VendorName\\MySitepackage\\"</span><span class="p">:</span> <span class="s2">"public/typo3conf/ext/my_sitepackage/Classes/"</span><span class="p">,</span>
            <span class="nt">"VendorName\\AnyOtherExtension\\"</span><span class="p">:</span> <span class="s2">"public/typo3conf/ext/any_other_extension/Classes/"</span>
        <span class="p">},</span>
        <span class="nt">"classmap"</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">"public/typo3conf/ext/my_old_extension/pi1/"</span><span class="p">,</span>
            <span class="s2">"public/typo3conf/ext/my_old_extension/pi2/class.tx_myoldextension_pi2.php"</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to keep your <code class="file docutils literal notranslate"><span class="pre">typo3conf/ext</span></code> directory empty and <code class="code docutils literal notranslate"><span class="pre">autoload</span></code> information only
in extensions’ <code class="file docutils literal notranslate"><span class="pre">composer.json</span></code>, but not in your project’s <code class="file docutils literal notranslate"><span class="pre">composer.json</span></code>,
there is an alternative way to include your individual extensions in the chapter
<a class="reference internal" href="BestPractices.html#mig-composer-clear-typo3conf-ext-folder"><span class="std std-ref">completely clear “typo3conf/ext” folder</span></a>
in the <a class="reference internal" href="BestPractices.html#mig-composer-best-practices"><span class="std std-ref">Best practices</span></a> section.</p>
</div>
</div>
</div>
</div>
</div>
<nav aria-label="Page navigation example">
<ul class="pagination justify-content-center">
<li class="page-item">
<a class="page-link" href="Requirements.html" title="Accesskey Alt(+Shift)+p">
                        Previous
                    </a>
</li>
<li class="page-item">
<a class="page-link" href="CoWorking.html" title="Accesskey Alt(+Shift)+n">
                        Next
                    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div class="page-footer">
<footer>
<div class="frame frame-ruler-before frame-background-dark">
<div class="frame-container">
<div class="frame-inner"><div class="footer-additional"><p class="text-center">Last rendered on Mar 01, 2020 16:27</p><p class="text-center"><a href="https://github.com/TYPO3-Documentation/sphinx_typo3_theme" rel="nofollow noopener" target="_blank">TYPO3 Theme 4.1.3</a></p>
</div>
<div class="footer-meta"><div class="footer-meta-copyright">© Copyright since 2000 by the TYPO3 Documentation Team</div>
</div>
</div>
</div>
</div>
</footer>
</div>
</div>
<script type="text/javascript">
            var DOCUMENTATION_OPTIONS = {
                URL_ROOT: '../',
                VERSION: 'master (10-dev)',
                COLLAPSE_INDEX: false,
                FILE_SUFFIX: '.html',
                HAS_SOURCE: true
            };
        </script>
<script src="../_static/js/jquery.min.js" type="text/javascript"></script>
<script src="../_static/js/underscore.min.js" type="text/javascript"></script>
<script src="../_static/js/doctools.min.js" type="text/javascript"></script>
<script src="../_static/js/popper.min.js" type="text/javascript"></script>
<script src="../_static/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../_static/js/theme.min.js" type="text/javascript"></script><script src="../_static/language_data.js" type="text/javascript"></script>
<script src="../_static/js/searchtools.min.js" type="text/javascript"></script>
<script src="../_static/js/autocomplete.min.js" type="text/javascript"></script>
<script type="text/javascript">
        jQuery(function() { Search.loadIndex("../searchindex.js"); });
    </script>
<script id="searchindexloader" type="text/javascript"></script>
</body>
</html>
