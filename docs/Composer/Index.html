<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="master (10-dev)" name="book-version"/>
<meta content="master (10-dev)" name="book-release"/>
<meta content="Installation and Upgrade Guide" name="docsearch:name"/>
<meta content="master (10-dev)" name="docsearch:version"/>
<meta content="" name="docsearch:package_type"/>
<title>Working With Composer — Installation and Upgrade Guide master (10-dev) documentation</title>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/webfonts.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/fontawesome.css" rel="stylesheet" type="text/css"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="#" rel="top" title="Installation and Upgrade Guide master (10-dev) documentation"/>
<link href="../ExtensionInstallation/Index.html" rel="next" title="Extension Installation"/>
<link href="../In-depth/TranslatingTheBackend/Index.html" rel="prev" title="Translating the Backend"/>
<script src="../_static/js/modernizr.min.js"></script>
</head>
<body>
<div class="page">
<div class="page-header">
<div class="page-header-inner">
<a class="logo" href="https://docs.typo3.org" title="TYPO3 Documentation">
<img alt="TYPO3 Logo" class="logo-image" height="130" src="../_static/img/typo3-logo.svg" width="484"/>
</a>
</div>
</div>
<div class="page-main">
<div class="page-main-inner">
<div class="page-main-navigation">
<nav>
<input class="toc-checkbox" id="toggleToc" type="checkbox"/>
<div class="toc-header"><div class="toc-title">
<a class="toc-title-project" href="../Index.html">Installation and Upgrade Guide</a></div><div class="toc-actions">
<label class="toc-toggle" for="toggleToc">
                                    Menu
                                </label>
</div>
</div>
<div class="toc-collapse">
<div class="toc-search" role="search">
<form action="../search.html" autocomplete="off" id="search-form" method="get">
<input aria-label="Search this project" class="form-control" id="searchinput" name="q" placeholder="Search this project" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div><div aria-label="main navigation" class="toc" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction/Index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../QuickInstall/Index.html">Quick Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../QuickInstall/Composer/Index.html">Install TYPO3 via composer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../QuickInstall/GetAndUnpack/Index.html">Install TYPO3 Without Composer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../QuickInstall/TheInstallTool/Index.html">The Install Tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../In-depth/Index.html">In-Depth Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/SystemRequirements/Index.html">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/WhichPackageAndFormat/Index.html">Which Package and Which Format?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/ThePackageInDetail/Index.html">The Package in Detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/TheInstallTool/Index.html">TYPO3 System Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/Distributions/Index.html">The Distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../In-depth/TranslatingTheBackend/Index.html">Translating the Backend</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Working With Composer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ExtensionInstallation/Index.html">Extension Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Upgrade/Index.html">Upgrade</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/Preparation/Index.html">Preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/Backup/Index.html">Backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UpdateReferenceIndex/Index.html">Reference Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/InstallTheNewSource/Index.html">Install the New Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/ConvertGlobalExtensions/Index.html">Convert Global Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UseTheUpgradeWizard/Index.html">Use the Upgrade Wizard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/RunTheDatabaseAnalyzer/Index.html">Run the Database Analyzer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/ClearCachesAndUserSettings/Index.html">Clear User Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/RemoveTemporaryCacheFiles/Index.html">Clear Caches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/ChangelogAndNewsmd/Index.html">Check the ChangeLog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UpdateExtensions/Index.html">Update Extensions (non-Composer Installations)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UpdateTranslations/Index.html">Update Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Upgrade/UpgradeToV10/Index.html">Upgrade to v10</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../MigrateToComposer/Index.html">Migrate TYPO3 Project to Composer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../MigrateToComposer/Requirements.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MigrateToComposer/MigrationSteps.html">Migration Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MigrateToComposer/CoWorking.html">Co-working</a></li>
<li class="toctree-l2"><a class="reference internal" href="../MigrateToComposer/BestPractices.html">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ReleaseIntegrity/Index.html">TYPO3 Release Integrity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/Index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sitemap/Index.html">Sitemap</a></li>
</ul>
</div>
</div>
</nav>
</div>
<div class="page-main-content">
<div class="rst-content">
<a accesskey="p" class="no-focus" href="../In-depth/TranslatingTheBackend/Index.html" tabindex="-1"></a>
<a accesskey="n" class="no-focus" href="../ExtensionInstallation/Index.html" tabindex="-1"></a>
<div aria-label="breadcrumbs navigation" class="breadcrumb-bar" role="navigation">
<ol class="breadcrumb">
<li class="breadcrumb-item"><a href="../Index.html">Start</a></li>
<li aria-current="page" class="breadcrumb-item active">Working With Composer</li>
</ol>
<div class="breadcrumb-additions">
<a class="btn btn-sm btn-primary" href="https://github.com/TYPO3-Documentation/TYPO3CMS-Guide-Installation/edit/master/Documentation/Composer/Index.rst" rel="nofollow noopener" target="_blank">
<span class="btn-icon"><span class="fab fa-github"></span></span>
<span class="btn-text">Edit on GitHub</span>
</a>
<a class="btn btn-sm btn-light" href="../_sources/Composer/Index.rst.txt" rel="nofollow">
<span class="btn-icon"><span class="fas fa-code"></span></span>
<span class="btn-text">View source</span>
</a>
</div>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="working-with-composer">
<span id="composer-working-with"></span><h1>Working With Composer<a class="headerlink" href="#working-with-composer" title="Permalink to this headline">¶</a></h1>
<p>This chapter includes a number of helpful commands and best practices for
using TYPO3 with Composer.</p>
<div class="section" id="run-composer-locally">
<h2>Run Composer Locally<a class="headerlink" href="#run-composer-locally" title="Permalink to this headline">¶</a></h2>
<p>You should not run <code class="code docutils literal notranslate"><span class="pre">composer</span></code> on your live webspace. You should always run
<code class="code docutils literal notranslate"><span class="pre">composer</span></code> on your local or a dedicated deployment machine, so you can test
if everything worked
fine. After running your tests, you can deploy the <code class="file docutils literal notranslate"><span class="pre">vendor</span></code> and
<code class="file docutils literal notranslate"><span class="pre">public</span></code> folder to your web server.</p>
<p>To avoid conflicts between your local and your server’s PHP version, you
can define your server’s PHP version in your <code class="file docutils literal notranslate"><span class="pre">composer.json</span></code> file
(e.g. <code class="docutils literal notranslate"><span class="pre">{"platform":</span> <span class="pre">{"php":</span> <span class="pre">"7.2"}}</span></code>), so <code class="code docutils literal notranslate"><span class="pre">composer</span></code> will always check
the correct dependencies.</p>
</div>
<div class="section" id="update-packages">
<h2>Update Packages<a class="headerlink" href="#update-packages" title="Permalink to this headline">¶</a></h2>
<p>After updating any packages, you always should commit your
<code class="file docutils literal notranslate"><span class="pre">composer.lock</span></code> to your version control system and your co-workers
should run <code class="code docutils literal notranslate"><span class="pre">composer</span> <span class="pre">install</span></code> after checking out the updates.</p>
<div class="section" id="update-all-packages">
<h3>Update all Packages<a class="headerlink" href="#update-all-packages" title="Permalink to this headline">¶</a></h3>
<p>Run <code class="code docutils literal notranslate"><span class="pre">composer</span> <span class="pre">update</span></code> without any other attributes, to update all
packages. Composer will always try to install the newest packages that
match the defined version constraints.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Be careful with that. This command may cause negative effects if you
do not have proper version constraints in your <code class="file docutils literal notranslate"><span class="pre">composer.json</span></code>.
You always should prefer to update your packages separately.</p>
</div>
</div>
<div class="section" id="update-single-packages">
<h3>Update Single Packages<a class="headerlink" href="#update-single-packages" title="Permalink to this headline">¶</a></h3>
<p>When you want to update single packages, you can call <code class="code docutils literal notranslate"><span class="pre">composer</span> <span class="pre">update</span></code>
with the package name. You should always add
<code class="docutils literal notranslate"><span class="pre">--with-all-dependencies</span></code> attribute to also update the required third
party packages.</p>
<div class="section" id="update-typo3-core">
<h4>Update TYPO3 Core<a class="headerlink" href="#update-typo3-core" title="Permalink to this headline">¶</a></h4>
<p>Without “subtree split”:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer update typo3/cms --with-all-dependencies
</pre></div>
</div>
<p>With “subtree split”:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer update typo3/cms-* --with-all-dependencies
</pre></div>
</div>
</div>
<div class="section" id="update-extensions-like-news">
<h4>Update Extensions Like “news”<a class="headerlink" href="#update-extensions-like-news" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer update georgringer/news --with-all-dependencies
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="use-dev-requirements">
<h2>Use Dev Requirements<a class="headerlink" href="#use-dev-requirements" title="Permalink to this headline">¶</a></h2>
<p>Add packages with <code class="docutils literal notranslate"><span class="pre">--dev</span></code> attribute to add packages only to your local
development environment. This is very useful for packages, you do not
need or do not want to have on your live server, e.g. PHPUnit or
Testing-Frameworks:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer require typo3/testing-framework:^2.0 --dev
</pre></div>
</div>
<p>During your deployment routine, you should run <code class="docutils literal notranslate"><span class="pre">composer</span> <span class="pre">install</span></code> with
attribute <code class="docutils literal notranslate"><span class="pre">--no-dev</span></code>. So the dev requirements are not installed.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer install --no-dev
</pre></div>
</div>
</div>
<div class="section" id="remove-extensions">
<span id="composer-remove-extension"></span><h2>Remove Extensions<a class="headerlink" href="#remove-extensions" title="Permalink to this headline">¶</a></h2>
<p>You can use the composer command <code class="code docutils literal notranslate"><span class="pre">remove</span></code> to uninstall extensions or
other composer packages.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>composer remove georgringer/news
</pre></div>
</div>
<p>Don’t forget to commit your updated <code class="file docutils literal notranslate"><span class="pre">composer.lock</span></code> to your version
control system.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please be sure to disable extensions in TYPO3’s Extension Manager, before removing them with <code class="code docutils literal notranslate"><span class="pre">composer</span></code>.
Or ensure to regenerate your <code class="file docutils literal notranslate"><span class="pre">typo3conf/PackageStates.php</span></code> file automatically, after removing the packages. You could use the
<a class="reference external" href="https://docs.typo3.org/typo3cms/extensions/typo3_console/CommandReference/Index.html#install-generatepackagestates">extension “typo3_console”</a> for that</p>
</div>
</div>
<div class="section" id="check-for-available-updates">
<h2>Check for Available Updates<a class="headerlink" href="#check-for-available-updates" title="Permalink to this headline">¶</a></h2>
<p>Run <code class="code docutils literal notranslate"><span class="pre">composer</span> <span class="pre">outdated</span></code> to see a list of available updates.</p>
</div>
<div class="section" id="useful-packages-and-bundles">
<h2>Useful Packages and Bundles<a class="headerlink" href="#useful-packages-and-bundles" title="Permalink to this headline">¶</a></h2>
<div class="section" id="simplify-subtree-split-installations">
<h3>Simplify “Subtree Split” Installations<a class="headerlink" href="#simplify-subtree-split-installations" title="Permalink to this headline">¶</a></h3>
<p>Instead of explicitly requiring each core extension, you can require
<a class="reference external" href="https://packagist.org/packages/typo3/minimal" rel="nofollow noopener">typo3/minimal</a>, which
brings the minimal required set of system extensions.</p>
</div>
<div class="section" id="typo3-cms-base-distribution">
<h3>TYPO3 CMS Base Distribution<a class="headerlink" href="#typo3-cms-base-distribution" title="Permalink to this headline">¶</a></h3>
<p>Primarily, <a class="reference external" href="https://packagist.org/packages/typo3/cms-base-distribution" rel="nofollow noopener">typo3/cms-base-distribution</a>
is not meant to be used with <code class="code docutils literal notranslate"><span class="pre">composer</span> <span class="pre">require</span></code>, but to really quickly start new composer based TYPO3 projects.</p>
<p>Nevertheless, it’s very good to have heard about it. If you’re interested in more information, you should check
the packages <a class="reference external" href="https://github.com/TYPO3/TYPO3.CMS.BaseDistribution" rel="nofollow noopener">README</a>.</p>
</div>
<div class="section" id="secure-web">
<h3>Secure Web<a class="headerlink" href="#secure-web" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://packagist.org/packages/helhum/typo3-secure-web" rel="nofollow noopener">helhum/typo3-secure-web</a>
follows the very interesting concept to split the traditional web root directory into
two parts: the “public” one for all the resources, that must be directly accessible via
HTTP (images, styles, etc.) - and the “private” folder, where all the PHP will be located.</p>
<p>This helps to make your TYPO3 installations even more secure!</p>
</div>
</div>
</div>
</div>
</div>
<nav aria-label="Page navigation example">
<ul class="pagination justify-content-center">
<li class="page-item">
<a class="page-link" href="../In-depth/TranslatingTheBackend/Index.html" title="Accesskey Alt(+Shift)+p">
                        Previous
                    </a>
</li>
<li class="page-item">
<a class="page-link" href="../ExtensionInstallation/Index.html" title="Accesskey Alt(+Shift)+n">
                        Next
                    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div class="page-footer">
<footer>
<div class="frame frame-ruler-before frame-background-dark">
<div class="frame-container">
<div class="frame-inner"><div class="footer-additional"><p class="text-center">Last rendered on Mar 01, 2020 16:27</p><p class="text-center"><a href="https://github.com/TYPO3-Documentation/sphinx_typo3_theme" rel="nofollow noopener" target="_blank">TYPO3 Theme 4.1.3</a></p>
</div>
<div class="footer-meta"><div class="footer-meta-copyright">© Copyright since 2000 by the TYPO3 Documentation Team</div>
</div>
</div>
</div>
</div>
</footer>
</div>
</div>
<script type="text/javascript">
            var DOCUMENTATION_OPTIONS = {
                URL_ROOT: '../',
                VERSION: 'master (10-dev)',
                COLLAPSE_INDEX: false,
                FILE_SUFFIX: '.html',
                HAS_SOURCE: true
            };
        </script>
<script src="../_static/js/jquery.min.js" type="text/javascript"></script>
<script src="../_static/js/underscore.min.js" type="text/javascript"></script>
<script src="../_static/js/doctools.min.js" type="text/javascript"></script>
<script src="../_static/js/popper.min.js" type="text/javascript"></script>
<script src="../_static/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../_static/js/theme.min.js" type="text/javascript"></script><script src="../_static/language_data.js" type="text/javascript"></script>
<script src="../_static/js/searchtools.min.js" type="text/javascript"></script>
<script src="../_static/js/autocomplete.min.js" type="text/javascript"></script>
<script type="text/javascript">
        jQuery(function() { Search.loadIndex("../searchindex.js"); });
    </script>
<script id="searchindexloader" type="text/javascript"></script>
</body>
</html>
